<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Architecture">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Architecture | SAGE3</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sage3.github.io/docs/Architecture"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Architecture | SAGE3"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sage3.github.io/docs/Architecture"><link data-rh="true" rel="alternate" href="https://sage3.github.io/docs/Architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://sage3.github.io/docs/Architecture" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SAGE3 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SAGE3 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.dda0dc66.css">
<link rel="preload" href="/assets/js/runtime~main.4d47fb52.js" as="script">
<link rel="preload" href="/assets/js/main.baeaaa71.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="SAGE3 Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="SAGE3 Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">SAGE3 Dev</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/SAGE3-Features">SAGE3 Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Applications">Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Shortcuts">Shortcuts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/Architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Application-Development">Application Development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Server-Deployment">Server Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/XR-Integration">Extended Reality (XR) Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/License">License</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Reference/collections">Reference</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Architecture</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Architecture</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>SAGE3 utilizes <a href="https://nodejs.dev/en/" target="_blank" rel="noopener noreferrer">NodeJs</a> as the server-side platform, <a href="https://reactjs.org" target="_blank" rel="noopener noreferrer">React</a> as a single page application frontend, and <a href="https://redis.io" target="_blank" rel="noopener noreferrer">Redis</a> as the real time in-memory database. Redis is known for its performance and scalability, making it an ideal choice for realtime applications like SAGE3. NodeJs is used to serve the React web application and provide a simple and intuitive API to access the database through an interface called SAGEBase. SAGEBase utilizes REDIS as a non-relational database and stores data as JSON-like documents in collections. These design choices provide a flexible and scalable solution for managing data, with fast and efficient access to data stored in the database. </p><p>Within the SAGE3 codebase we have 3 core components. </p><ul><li><p><strong>Homebase</strong></p><ul><li>NodeJs server that manages the communication between the server and clients.<ul><li><u>HTTP/Websocket</u> : Serves the Webapp to clients, provides API endpoints using Express.js, and a websocket channel for client data subscriptions.</li><li><u>SAGEBase</u> : Redis database interface layer that manages SAGE3&#x27;s state and provides a simplified API for storing JSON documents within collections in Redis. Handles authentication through OAuth providers using [Passport](https://www.passportjs.org).</li><li><u>Asset Manager</u> : Handles file processing for various types and provides a file upload endpoint.</li></ul></li></ul></li><li><p><strong>Webapp</strong></p><ul><li>React Web Application<ul><li><u>HTTP/Websocket</u> : Communication channels between the client and the server. Handles sending CRUD operations to the JSON documents stored on the server. Manages subscriptions to collections or documents on the server using web sockets.</li><li><u>Stores</u> : [Zustand](https://github.com/pmndrs/zustand) stores that manages the state of SAGE3 throughout the React application.  These are singleton stores that all the various React components interface with.</li><li><u>Components</u> : React functional components that structure the SAGE3 GUI. Components only communicate with the Zustand stores or various React hooks to interact with SAGE3&#x27;s state.</li></ul></li></ul></li><li><p><strong>Foresight</strong></p><ul><li>Python AI Functionality </li></ul></li></ul><img loading="lazy" src="https://user-images.githubusercontent.com/19752298/217131814-a521d54f-78d5-4301-a82f-98b5065f5e6c.png" alt="arch-detailed" height="550" class="img_ev3q"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-backend">1. Backend<a href="#1-backend" class="hash-link" aria-label="Direct link to 1. Backend" title="Direct link to 1. Backend">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1a-homebase">1.A Homebase<a href="#1a-homebase" class="hash-link" aria-label="Direct link to 1.A Homebase" title="Direct link to 1.A Homebase">​</a></h3><p>Homebase is the backend server of SAGE3 and serves as a communication bridge between the clients and the database. It also handles asset uploads and serves the React webapp. Homebase is built using Node.js and Express, which are commonly used together as a backend server for web applications. Node.js provides the runtime environment for executing JavaScript code on the server, while Express is a popular and flexible framework for building and organizing the backend of a web application. Homebase uses NodeJs and Express to create various APIs, handle authentication, manage session information, provide websocket connections, and process file uploads.</p><img loading="lazy" src="https://user-images.githubusercontent.com/19752298/217695395-2f8f3eb5-adea-4aa3-a68f-19184f3a1e85.png" height="300" class="img_ev3q"><p>The Homebase code is located here:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/webstack/apps/homebase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/webstack/libs/backend</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1a1-httpwebsocket">1.A.1 HTTP/Websocket<a href="#1a1-httpwebsocket" class="hash-link" aria-label="Direct link to 1.A.1 HTTP/Websocket" title="Direct link to 1.A.1 HTTP/Websocket">​</a></h4><p>Homebase uses Express to help build a REST API endpoints to interact with the state within SAGE3. When a client makes a HTTP request to one of the API endpoints, such as a GET, POST, PUT, DELETE, the request is passed to SAGEBase for authentication and to perform the requested action. CRUD operations and Collection/Document subscriptions can be requested over Websockets.</p><p>Homebase also enables clients to upload files to the server using standard HTTP methods such as POST. The server will receive the file and then pass the file to the Asset Manager to process, validate, store, and document the newly uploaded file.</p><img loading="lazy" src="https://user-images.githubusercontent.com/19752298/217699862-cb335f9a-4489-4a3d-87da-e1cab46af04a.png" height="300" class="img_ev3q"><p>The HTTP/Websocket code is located here:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/webstack/apps/homebase/src/api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/webstack/libs/backend/src/libs/generics</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1a2-sagebase">1.A.2 SAGEBase<a href="#1a2-sagebase" class="hash-link" aria-label="Direct link to 1.A.2 SAGEBase" title="Direct link to 1.A.2 SAGEBase">​</a></h4><p>SAGEBase is a database interface for Redis developed for SAGE3. It leverages Redis to create a fast a NoSQL document-oriented database. SAGEbase allows developers to create Collections and store Documents within them. Documents within SAGEBase are JSON objects. Documents and Collections support CRUD style operations and also support subscriptions for Document EVENTS: &#x27;CREATE&#x27;, &#x27;UPDATE&#x27;, &#x27;DELETE&#x27;. </p><img loading="lazy" src="https://user-images.githubusercontent.com/19752298/217701319-457c8a4f-a58a-47c6-8750-ce8d5641e313.png" height="300" class="img_ev3q"><p>A Car Collection example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Create a SAGEBase configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const sbConfig: SAGEBaseConfig = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    projectName: &#x27;Automobiles&#x27;, // Name of the project. Can use the same Redis database for multiple SAGEBase projects.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    redisUrl: &#x27;redis://localhost:6379&#x27;, // URL of the Redis server.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Initialize SAGEBase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await SAGEBase.init(sbConfig);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create a Car type. This defines the Car Document schema.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type Car = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  make: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  model: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  year: number;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Create a Car Collection using SAGEBase.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// The first parameter, &#x27;cars&#x27;, is the name of the collection.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// The second parameter are the fields to index so they are queryable. So this collection only indexes &#x27;model&#x27; and &#x27;year&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const carCollection = await SAGEBase.Database.collection&lt;Car&gt;(&#x27;cars&#x27;, { model: &#x27;&#x27;, year: 0 });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Subscribe to Document EVENTS (&#x27;CREATE&#x27;, &#x27;UPDATE&#x27;, &#x27;DELETE&#x27;) on the Car Collection.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">carCollection.subscribe((message) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // This would be called after the code below runs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 1. First Event message would be CREATE and contain the new Document state.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 2. Second Event message would be UPDATE and contain the updated Document state.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // 3. Third Event message would be DELETE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// CREATE a new Car Document in the Collection. This returns a REF to the Document in the database.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const wrxRef = await carCollection.addDoc({ make: &#x27;Subaru&#x27;, model: &#x27;WRX&#x27;, year: 2019 }, &#x27;&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Read the Document from the database.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const wrxDoc = await wrxRef.read();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// UPDATE the Document</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await wrxRef.update({year: 2020});</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// DELETE the Document</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">await wrxRef.delete();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The SAGEBase library is located here: </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/webstack/libs/sagebase</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>SAGEBase is hosted on NPM for use in other projects. <a href="https://www.npmjs.com/package/@sage3/sagebase" target="_blank" rel="noopener noreferrer">@sage3/sagebase</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1a3-asset-manager">1.A.3 Asset Manager<a href="#1a3-asset-manager" class="hash-link" aria-label="Direct link to 1.A.3 Asset Manager" title="Direct link to 1.A.3 Asset Manager">​</a></h4><p>Asset Manager is responsible for managing and organizing the uploaded assets such as images, videos, audio files, csv data, pdfs...etc. The goal of the asset manager is to ensure that the assets are properly organized, optimized, and delivered to the client efficiently. It uses SAGEBase to organize all the files uploaded and their hosted URLs. </p><img loading="lazy" src="https://user-images.githubusercontent.com/19752298/217702997-9eb6305a-087d-4060-9233-5d82a8ff9c42.png" height="300" class="img_ev3q"><p>The Asset Manager code is located here:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/webstack/apps/homebase/src/api/routes/custom/asset.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/webstack/apps/homebase/src/processors/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/webstack/apps/homebase/src/connectors/*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1b-foresight">1.B Foresight<a href="#1b-foresight" class="hash-link" aria-label="Direct link to 1.B Foresight" title="Direct link to 1.B Foresight">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1c-redis">1.C Redis<a href="#1c-redis" class="hash-link" aria-label="Direct link to 1.C Redis" title="Direct link to 1.C Redis">​</a></h3><p><a href="https://hub.docker.com/r/redis/redis-stack-server" target="_blank" rel="noopener noreferrer">Redis Stack on Docker Hub</a></p><p>SAGEBase uses the <a href="https://redis.io/docs/stack/about/" target="_blank" rel="noopener noreferrer">Redis Stack</a> Docker image. Redis Stack was created to allow developers to build real-time applications with a backend data platform that can reliably process requests in milliseconds or less. The RedisJson and RedisSearch modules are enabled for our configuration. </p><p>SAGEBase leverages the Redis Stack as Collection and Document style database. Documents are organized within Redis using the standard Redis prefix naming conventions. From the SAGEBase example above, the WRX Car would be stored with this Redis key:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//PROJECT_NAME:MODULE:COLLECTION_NAME:DOC_UID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AutoTown:DB:cars:ec3dcbe8-8e0f-4fa8-89e1-b8c9663eae64</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Module refers to the SAGEBase module, in this case the Database <code>DB</code> module. Each Document is created with a unique UID automatically using the UUID library.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1d-jupterlab">1.D JupterLab<a href="#1d-jupterlab" class="hash-link" aria-label="Direct link to 1.D JupterLab" title="Direct link to 1.D JupterLab">​</a></h3><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-frontend">2. Frontend<a href="#2-frontend" class="hash-link" aria-label="Direct link to 2. Frontend" title="Direct link to 2. Frontend">​</a></h2><p>SAGE3&#x27;s frontend is a React web application written in Typescript. It is hosted on the SAGE3 Homebase server and sent to connected clients over HTTP. Clients connect to Homebase using the SAGE3 Electron desktop application or a Chrome web browser. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2a-electron">2.A Electron<a href="#2a-electron" class="hash-link" aria-label="Direct link to 2.A Electron" title="Direct link to 2.A Electron">​</a></h3><p>Electron allows developers to create desktop applications using HTML, CSS, and JavaScript, making it possible to build cross-platform applications that can run on multiple operating systems. SAGE3&#x27;s Electron application supports MacOS (Intel or Apple Silicon), Ubuntu, and Windows.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2b-webapp">2.B Webapp<a href="#2b-webapp" class="hash-link" aria-label="Direct link to 2.B Webapp" title="Direct link to 2.B Webapp">​</a></h3><p>SAGE3&#x27;s Frontend GUI is a React Webapp written in Typescript. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2b1-httpws">2.B.1 HTTP/WS<a href="#2b1-httpws" class="hash-link" aria-label="Direct link to 2.B.1 HTTP/WS" title="Direct link to 2.B.1 HTTP/WS">​</a></h4><p>Manages sending user CRUD requests to the server using HTTP or Websockets.</p><p>HTTP</p><p><code>/webstack/libs/frontend/src/lib/api/http/api-https.ts</code></p><p>Websocket</p><p><code>/webstack/libs/frontend/src/lib/api/ws/api-socket.ts</code></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2b2-storeshooks">2.B.2 Stores/Hooks<a href="#2b2-storeshooks" class="hash-link" aria-label="Direct link to 2.B.2 Stores/Hooks" title="Direct link to 2.B.2 Stores/Hooks">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2b2a-stores">2.B.2.A Stores<a href="#2b2a-stores" class="hash-link" aria-label="Direct link to 2.B.2.A Stores" title="Direct link to 2.B.2.A Stores">​</a></h5><p><code>/webstack/libs/frontend/src/lib/stores/*</code></p><p>The stores are the Clients local state of the SAGE3 server state. The various GUI Components only interface with the Stores when creating, updating, deleting, or subscribing to documents through the stores. The stores interface with the HTTP/WS to perform the actual communication.</p><ul><li>App<ul><li>Description</li></ul></li><li>Asset<ul><li>Description</li></ul></li><li>Board<ul><li>Description</li></ul></li><li>Panel<ul><li>Description</li></ul></li><li>Presence<ul><li>Description</li></ul></li><li>Room<ul><li>Description</li></ul></li><li>UI<ul><li>Description</li></ul></li><li>User<ul><li>Description</li></ul></li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2b2b-stores">2.B.2.B Stores<a href="#2b2b-stores" class="hash-link" aria-label="Direct link to 2.B.2.B Stores" title="Direct link to 2.B.2.B Stores">​</a></h5><p><code>/webstack/libs/frontend/src/lib/hooks/*</code></p><p>React hooks allows users to reuse stateful logic in their functional components and provide a way to manage state an side effects in your components without writing a class component. Essentially they are functions that allow functional components to &quot;hook&quot; into React state and lifecycle.</p><ul><li>useAuth<ul><li>Description</li></ul></li><li>useCursorBoardPosition<ul><li>Description</li></ul></li><li>useData<ul><li>Description</li></ul></li><li>useHexColor<ul><li>Description</li></ul></li><li>useHotkeys<ul><li>Description</li></ul></li><li>useKeyPress<ul><li>Description</li></ul></li><li>useMeasure<ul><li>Description</li></ul></li><li>usePeer<ul><li>Description</li></ul></li><li>useRouteNav<ul><li>Description</li></ul></li><li>useUser<ul><li>Description</li></ul></li><li>useWindowResize<ul><li>Description</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2b3-components">2.B.3 Components<a href="#2b3-components" class="hash-link" aria-label="Direct link to 2.B.3 Components" title="Direct link to 2.B.3 Components">​</a></h4><p>SAGE3&#x27;s uses React Functional components for rendering the GUI to the user. These components listen to the Stores to keep their state up to date and to perform any CRUD operations. </p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2b3a-pages">2.B.3.A Pages<a href="#2b3a-pages" class="hash-link" aria-label="Direct link to 2.B.3.A Pages" title="Direct link to 2.B.3.A Pages">​</a></h5><ul><li>Landing (Electron)<ul><li>Description</li></ul></li><li>Server Login<ul><li>Description</li></ul></li><li>Account Creation<ul><li>Description</li></ul></li><li>Home<ul><li>Description</li></ul></li><li>Board<ul><li>Description</li></ul></li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2b3b-panels-webstackappswebappsrcapp">2.B.3.B Panels `/webstack/apps/webapp/src/app/<a href="#2b3b-panels-webstackappswebappsrcapp" class="hash-link" aria-label="Direct link to 2.B.3.B Panels `/webstack/apps/webapp/src/app/" title="Direct link to 2.B.3.B Panels `/webstack/apps/webapp/src/app/">​</a></h5><ul><li>Annotations</li><li>Applications</li><li>Assets</li><li>Navigation</li><li>Users</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2b3c-reusable-ui">2.B.3.C Reusable UI<a href="#2b3c-reusable-ui" class="hash-link" aria-label="Direct link to 2.B.3.C Reusable UI" title="Direct link to 2.B.3.C Reusable UI">​</a></h5><ul><li>Board, Room, User Cards</li><li>Context Menu</li><li>Color Picker</li><li>Main Button</li><li>Board, Room, User Lists</li><li>Modals</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2b3d-apps">2.B.3.D Apps<a href="#2b3d-apps" class="hash-link" aria-label="Direct link to 2.B.3.D Apps" title="Direct link to 2.B.3.D Apps">​</a></h5><ul><li>AppWindow</li><li>Apps</li><li>AppToolbar</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-cloud-services">3. Cloud Services<a href="#3-cloud-services" class="hash-link" aria-label="Direct link to 3. Cloud Services" title="Direct link to 3. Cloud Services">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3a-ai">3.A AI<a href="#3a-ai" class="hash-link" aria-label="Direct link to 3.A AI" title="Direct link to 3.A AI">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3b-oauth">3.B OAuth<a href="#3b-oauth" class="hash-link" aria-label="Direct link to 3.B OAuth" title="Direct link to 3.B OAuth">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3c-twilio">3.C Twilio<a href="#3c-twilio" class="hash-link" aria-label="Direct link to 3.C Twilio" title="Direct link to 3.C Twilio">​</a></h3></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Architecture.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Shortcuts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Shortcuts</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Application-Development"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Application Development</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#1-backend" class="table-of-contents__link toc-highlight">1. Backend</a><ul><li><a href="#1a-homebase" class="table-of-contents__link toc-highlight">1.A Homebase</a></li><li><a href="#1b-foresight" class="table-of-contents__link toc-highlight">1.B Foresight</a></li><li><a href="#1c-redis" class="table-of-contents__link toc-highlight">1.C Redis</a></li><li><a href="#1d-jupterlab" class="table-of-contents__link toc-highlight">1.D JupterLab</a></li></ul></li><li><a href="#2-frontend" class="table-of-contents__link toc-highlight">2. Frontend</a><ul><li><a href="#2a-electron" class="table-of-contents__link toc-highlight">2.A Electron</a></li><li><a href="#2b-webapp" class="table-of-contents__link toc-highlight">2.B Webapp</a></li></ul></li><li><a href="#3-cloud-services" class="table-of-contents__link toc-highlight">3. Cloud Services</a><ul><li><a href="#3a-ai" class="table-of-contents__link toc-highlight">3.A AI</a></li><li><a href="#3b-oauth" class="table-of-contents__link toc-highlight">3.B OAuth</a></li><li><a href="#3c-twilio" class="table-of-contents__link toc-highlight">3.C Twilio</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Introduction</a></li></ul></div><div class="col footer__col"><div class="footer__title">News</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/SAGE-3/next" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 SAGE3.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4d47fb52.js"></script>
<script src="/assets/js/main.baeaaa71.js"></script>
</body>
</html>